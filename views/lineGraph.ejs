<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Guages</title>
<link rel="stylesheet" href="../stylesheets/style.css">
</head>
<body onLoad="linedataInputFunction()">




<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

<script type="text/javascript" src="/socket.io/socket.io.js"></script>

   	
	<div class="lineGraphDiv"name="lineGraphDiv" id="lineGraphDiv" >
	<h1 id=lineGraphTitle>Line Graph Here</h1>
	<script type="text/javascript" src="/javascripts/lineScan.js"></script>
	</div>

<script>
	function linedataInputFunction() {
	
	console.log('lineGraphInputFunction called');
		var dataItem;
		var iosocket = io.connect('http://127.0.0.1:1337');

		iosocket.on('connect', function (data) {
					console.log('lineGraph client connected ');
					console.log('lineGraph connected data ' + data);

				
			jQuery(function ($) {
				iosocket.on('updateData', function (data) {
					console.log('lineGraph update: ' + data);
					dataItem = JSON.parse(data);
					console.log('lineGraph updateData current ' + dataItem.current);

					
					tick( dataItem.current );
				 
				});
			});
		});
	}
	
	</script>
</body>
</html>